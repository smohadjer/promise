<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>HTML5 test</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
		<script>
			function before() {
				var data1Ready = false;
				var data2Ready = false;
				var data1, data2;

				$.getJSON('autocomplete.json', function(data) {
					data1Ready = true;
					data1 = data;
					test();
				});

				$.getJSON('seo.json', function(data) {
					data2Ready = true;
					data2 = data;
					test();
				});

				function test() {
					if (data1Ready && data2Ready) {
						console.log(data1, data2);
					}
				}
			}

			//before();

			function after() {
				var api1 = $.getJSON('autocomplete.json');
				var api2 = $.getJSON('seo.json');

				Promise.all([api1, api2]).then(function(result) {
					console.log(result);
				}).catch(function(error) {
					console.log(error);
				});
			}

			after();
		</script>
	</head>
	<body>
		<p>Hello World</p>
	</body>
</html>
